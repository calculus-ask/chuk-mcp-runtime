# ────────────────────────────────────────────────────────────────────────────
# Session‑layer provider model (metadata caching)
# ────────────────────────────────────────────────────────────────────────────
# The existing ArtifactStore talks directly to aioredis.  To make the cache
# pluggable, we introduce a tiny façade with the two primitives we need:
#     • async setex(key, ttl, value)
#     • async get(key) -> str | None
#
# Feel free to drop‑in any backend that honours that interface. Two providers
# are included: «redis» (default) and «memory».
#
# ENV:  SESSION_PROVIDER=redis|memory   (default redis)
# ────────────────────────────────────────────────────────────────────────────
SESSION_PROVIDER=memory

###############################################################################
#  Common settings
###############################################################################
# Which provider module to load
#   s3       → chuk_mcp_runtime.artifacts.providers.s3      
#   ibm_cos  → chuk_mcp_runtime.artifacts.providers.ibm_cos
#   memory   → chuk_mcp_runtime.artifacts.providers.memory
#   fs       → chuk_mcp_runtime.artifacts.providers.filesystem (default)
ARTIFACT_PROVIDER=s3

# Bucket name (must already exist and be private)
ARTIFACT_BUCKET="my-bucket"

# Redis connection for artefact metadata
REDIS_URL=rediss://blah
REDIS_TLS_INSECURE=1

###############################################################################
#  Filesystem
###############################################################################
ARTIFACT_FS_ROOT = "./artifacts"

###############################################################################
#  IBM Cloud Object Storage credentials
###############################################################################
IBM_COS_APIKEY="blah"
IBM_COS_INSTANCE_CRN="blah"
IBM_COS_ENDPOINT="blah"

###############################################################################
#  S3 Credentials
###############################################################################
S3_ENDPOINT_URL="blah"
AWS_ACCESS_KEY_ID=blah
AWS_SECRET_ACCESS_KEY=blah

# Set default metadata TTL (15 minutes default)
export ARTIFACT_METADATA_TTL=1800  # 30 minutes

# Set default presigned URL expiry (1 hour default)
export ARTIFACT_PRESIGN_EXPIRES=7200  # 2 hours